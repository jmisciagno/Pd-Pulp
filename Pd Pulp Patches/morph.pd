#N canvas 522 329 641 302 12;
#X obj 60 244 dac~;
#N canvas 451 126 898 611 process 0;
#X obj 94 31 inlet~;
#X obj 804 24 block~ 4096 4;
#X obj 88 611 outlet~;
#X obj 140 411 tabreceive~ \$0-hann;
#X obj 479 23 inlet;
#X obj 305 28 inlet~;
#X obj 306 253 expr~ ($v1 * $v4) + ($v2 * $v3);
#X text 538 249 imaginary;
#X obj 83 490 *~;
#X obj 89 524 *~;
#X obj 478 56 lop~ 5;
#X obj 610 23 inlet;
#X obj 82 153 rfft~;
#X obj 76 416 rifft~;
#X obj 288 150 rfft~;
#N canvas 0 25 571 318 mag-pow 0;
#X obj 77 65 inlet~;
#X obj 173 65 inlet~;
#X text 394 35 n;
#X obj 93 161 *~;
#X obj 170 163 *~;
#X obj 288 131 pow~;
#N canvas 0 25 450 300 mag 0;
#X obj 137 107 inlet~;
#X obj 331 108 inlet~;
#X obj 164 271 outlet~;
#X obj 153 164 *~;
#X obj 287 156 *~;
#X obj 157 200 +~;
#X obj 162 247 sqrt~;
#X connect 0 0 3 0;
#X connect 0 0 3 1;
#X connect 1 0 4 0;
#X connect 1 0 4 1;
#X connect 3 0 5 0;
#X connect 4 0 5 1;
#X connect 5 0 6 0;
#X connect 6 0 2 0;
#X restore 286 69 pd mag;
#X obj 388 95 -~ 1;
#X obj 389 61 inlet~;
#X obj 102 229 outlet~;
#X obj 176 230 outlet~;
#X connect 0 0 3 0;
#X connect 0 0 6 0;
#X connect 1 0 4 0;
#X connect 1 0 6 1;
#X connect 3 0 9 0;
#X connect 4 0 10 0;
#X connect 5 0 4 1;
#X connect 5 0 3 1;
#X connect 6 0 5 0;
#X connect 7 0 5 1;
#X connect 8 0 7 0;
#X restore 83 208 pd mag-pow;
#N canvas 0 25 571 318 mag-pow 0;
#X obj 77 65 inlet~;
#X obj 173 65 inlet~;
#X text 394 35 n;
#X obj 93 161 *~;
#X obj 170 163 *~;
#X obj 288 131 pow~;
#N canvas 0 25 450 300 mag 0;
#X obj 137 107 inlet~;
#X obj 331 108 inlet~;
#X obj 164 271 outlet~;
#X obj 153 164 *~;
#X obj 287 156 *~;
#X obj 157 200 +~;
#X obj 162 247 sqrt~;
#X connect 0 0 3 0;
#X connect 0 0 3 1;
#X connect 1 0 4 0;
#X connect 1 0 4 1;
#X connect 3 0 5 0;
#X connect 4 0 5 1;
#X connect 5 0 6 0;
#X connect 6 0 2 0;
#X restore 286 69 pd mag;
#X obj 389 61 inlet~;
#X obj 388 95 -~ 1;
#X obj 93 238 outlet~;
#X obj 181 237 outlet~;
#X connect 0 0 3 0;
#X connect 0 0 6 0;
#X connect 1 0 4 0;
#X connect 1 0 6 1;
#X connect 3 0 9 0;
#X connect 4 0 10 0;
#X connect 5 0 4 1;
#X connect 5 0 3 1;
#X connect 6 0 5 0;
#X connect 7 0 8 0;
#X connect 8 0 5 1;
#X restore 290 196 pd mag-pow;
#X obj 0 254 expr~ ($v1 * $v3) - ($v2 * $v4);
#X obj 152 119 expr max(0 \, min(1 \, 2 * (1 - $f1)));
#X obj 362 159 expr max(0 \, min(1 \, 2 * $f1));
#X obj 706 19 inlet;
#N canvas 0 25 571 318 mag-pow 0;
#X obj 77 65 inlet~;
#X obj 173 65 inlet~;
#X text 394 35 n;
#X obj 93 161 *~;
#X obj 170 163 *~;
#X obj 288 131 pow~;
#N canvas 0 25 450 300 mag 0;
#X obj 137 107 inlet~;
#X obj 331 108 inlet~;
#X obj 164 271 outlet~;
#X obj 153 164 *~;
#X obj 287 156 *~;
#X obj 157 200 +~;
#X obj 162 247 sqrt~;
#X connect 0 0 3 0;
#X connect 0 0 3 1;
#X connect 1 0 4 0;
#X connect 1 0 4 1;
#X connect 3 0 5 0;
#X connect 4 0 5 1;
#X connect 5 0 6 0;
#X connect 6 0 2 0;
#X restore 286 69 pd mag;
#X obj 388 95 -~ 1;
#X obj 389 61 inlet~;
#X obj 102 229 outlet~;
#X obj 176 230 outlet~;
#X connect 0 0 3 0;
#X connect 0 0 6 0;
#X connect 1 0 4 0;
#X connect 1 0 6 1;
#X connect 3 0 9 0;
#X connect 4 0 10 0;
#X connect 5 0 4 1;
#X connect 5 0 3 1;
#X connect 6 0 5 0;
#X connect 7 0 5 1;
#X connect 8 0 7 0;
#X restore 61 299 pd mag-pow;
#N canvas 0 25 450 300 norm 0;
#X obj 155 37 inlet~;
#X obj 138 210 /~;
#X obj 137 247 outlet~;
#X obj 268 246 outlet~;
#X obj 183 78 env~ 4096;
#X obj 182 152 max 0.001;
#X connect 0 0 1 0;
#X connect 0 0 4 0;
#X connect 1 0 2 0;
#X connect 4 0 5 0;
#X connect 4 0 3 0;
#X connect 5 0 1 1;
#X restore 87 71 pd norm;
#N canvas 0 25 450 300 norm 0;
#X obj 154 75 inlet~;
#X obj 138 210 /~;
#X obj 137 247 outlet~;
#X obj 268 246 outlet~;
#X obj 182 116 env~ 4096;
#X obj 182 173 max 0.01;
#X connect 0 0 1 0;
#X connect 0 0 4 0;
#X connect 1 0 2 0;
#X connect 4 0 3 0;
#X connect 4 0 5 0;
#X connect 5 0 1 1;
#X restore 297 62 pd norm;
#X obj 140 523 *~;
#X obj 84 565 *~;
#X obj 80 453 /~ 4;
#X obj 64 345 /~ 4096;
#X obj 125 345 /~ 4096;
#X obj 85 589 /~ 10;
#X connect 0 0 22 0;
#X connect 3 0 8 1;
#X connect 4 0 10 0;
#X connect 5 0 23 0;
#X connect 6 0 21 1;
#X connect 8 0 9 0;
#X connect 9 0 25 0;
#X connect 10 0 9 1;
#X connect 11 0 18 0;
#X connect 11 0 19 0;
#X connect 12 0 15 0;
#X connect 12 1 15 1;
#X connect 13 0 26 0;
#X connect 14 0 16 0;
#X connect 14 1 16 1;
#X connect 15 0 17 0;
#X connect 15 0 6 0;
#X connect 15 1 17 1;
#X connect 15 1 6 1;
#X connect 16 0 17 2;
#X connect 16 0 6 2;
#X connect 16 1 17 3;
#X connect 16 1 6 3;
#X connect 17 0 21 0;
#X connect 18 0 15 2;
#X connect 19 0 16 2;
#X connect 20 0 21 2;
#X connect 21 0 27 0;
#X connect 21 1 28 0;
#X connect 22 0 12 0;
#X connect 22 1 24 0;
#X connect 23 0 14 0;
#X connect 23 1 24 1;
#X connect 24 0 25 1;
#X connect 25 0 29 0;
#X connect 26 0 8 0;
#X connect 27 0 13 0;
#X connect 28 0 13 1;
#X connect 29 0 2 0;
#X restore 62 207 pd process;
#N canvas 624 107 816 455 windows 0;
#N canvas 0 22 450 300 (subpatch) 0;
#X array \$0-hann 4096 float 0;
#X coords 0 1 4095 0 300 100 1 0 0;
#X restore 34 312 graph;
#X obj 378 165 osc~;
#X obj 378 190 *~ -0.5;
#X obj 378 214 +~ 0.5;
#X obj 331 247 tabwrite~ \$0-hann;
#X obj 38 173 /;
#X obj 59 145 samplerate~;
#X obj 38 251 s window-sec;
#X obj 177 204 swap;
#X obj 177 228 /;
#X obj 177 252 s window-hz;
#X obj 49 201 * 1000;
#X obj 49 228 s window-msec;
#X obj 38 115 t f b f;
#X obj 155 155 s \$0-hann;
#X obj 460 5 r window-hz;
#X msg 408 136 0;
#X obj 461 33 t f b;
#X obj 38 30 loadbang;
#X obj 38 91 4096;
#N canvas 0 22 450 300 (subpatch) 0;
#X array \$0-index 4096 float 0;
#X coords 0 0 4095 2047 300 100 1 0 0;
#X restore 371 314 graph;
#X obj 242 155 s \$0-index;
#X obj 467 167 phasor~;
#X obj 467 287 tabwrite~ \$0-index;
#X msg 518 131 0;
#X obj 478 247 abs~;
#X obj 467 195 *~ 4096;
#X obj 489 223 -~ 2048;
#X msg 155 129 resize 4096;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 5 0 7 0;
#X connect 5 0 11 0;
#X connect 6 0 5 1;
#X connect 6 0 8 1;
#X connect 8 0 9 0;
#X connect 8 1 9 1;
#X connect 9 0 10 0;
#X connect 11 0 12 0;
#X connect 13 0 5 0;
#X connect 13 0 8 0;
#X connect 13 1 6 0;
#X connect 13 2 28 0;
#X connect 15 0 17 0;
#X connect 16 0 1 1;
#X connect 17 0 1 0;
#X connect 17 0 22 0;
#X connect 17 1 4 0;
#X connect 17 1 16 0;
#X connect 17 1 24 0;
#X connect 17 1 23 0;
#X connect 18 0 19 0;
#X connect 19 0 13 0;
#X connect 22 0 26 0;
#X connect 24 0 22 1;
#X connect 25 0 23 0;
#X connect 26 0 27 0;
#X connect 27 0 25 0;
#X connect 28 0 14 0;
#X connect 28 0 21 0;
#X restore 491 22 pd windows;
#X obj 52 78 adc~;
#X obj 283 125 send pdpulp_p1;
#X obj 359 66 loadbang;
#X obj 139 130 r level;
#X msg 283 95 level \$1;
#X obj 202 126 r bias;
#X msg 399 98 bias \$1;
#X obj 399 128 send pdpulp_p2;
#X msg 509 94 contrast \$1;
#X obj 509 124 send pdpulp_p3;
#X obj 219 174 r contrast;
#X obj 14 114 hip~ 40;
#X obj 99 112 hip~ 40;
#X obj 12 151 lop~ 16000;
#X obj 94 150 lop~ 16000;
#X obj 219 203 expr pow(2.5 \, ($f1 * 2) - 1);
#X connect 1 0 0 0;
#X connect 1 0 0 1;
#X connect 3 0 14 0;
#X connect 3 1 15 0;
#X connect 5 0 7 0;
#X connect 5 0 9 0;
#X connect 5 0 11 0;
#X connect 6 0 1 2;
#X connect 7 0 4 0;
#X connect 8 0 1 3;
#X connect 9 0 10 0;
#X connect 11 0 12 0;
#X connect 13 0 18 0;
#X connect 14 0 16 0;
#X connect 15 0 17 0;
#X connect 16 0 1 0;
#X connect 17 0 1 1;
#X connect 18 0 1 4;
