#N canvas 491 33 752 531 12;
#N canvas 253 120 1071 513 block 0;
#X obj 107 99 swap;
#X obj 66 183 route 0;
#X obj 230 285 outlet;
#X obj 79 457 outlet;
#X obj 76 387 t b;
#X msg 76 412 0;
#X msg 151 270 1;
#X text 76 476 on/off;
#X text 223 308 pitch;
#X obj 77 250 t f f;
#X obj 151 242 t b f;
#X obj 429 354 outlet;
#X text 427 379 velocity;
#X obj 341 151 bendin;
#X text 334 124 octave = 2048 different;
#X text 333 102 neutral = 8192;
#X obj 343 292 - 8192;
#X obj 344 321 / 170.667;
#X obj 342 352 outlet;
#X text 339 380 pitchbend;
#X obj 531 127 touchin;
#X obj 108 141 pack f f f;
#X obj 152 215 unpack f f f;
#X obj 259 254 s \$0-channel;
#X obj 542 174 swap;
#X obj 545 235 route;
#X obj 580 200 r \$0-channel;
#X obj 543 201 pack;
#X obj 536 280 outlet;
#X text 537 310 aftertouch;
#X obj 343 209 swap;
#X obj 385 239 r \$0-channel;
#X obj 344 236 pack;
#X obj 343 265 route;
#X obj 65 216 unpack f f;
#X obj 198 243 t f f f;
#N canvas 0 23 450 300 filter-note-off 0;
#X obj 116 73 inlet;
#X obj 171 74 inlet;
#X obj 228 72 inlet;
#X obj 283 73 inlet;
#X obj 54 143 expr !(($f1 != $f2) | (($f1 == $f2) && ($f3 != $f4)))
;
#X obj 63 171 outlet;
#X text 87 29 blocked if (not the same note) or (the same note and
different channels);
#X connect 0 0 4 0;
#X connect 1 0 4 1;
#X connect 2 0 4 2;
#X connect 3 0 4 3;
#X connect 4 0 5 0;
#X restore 105 331 pd filter-note-off;
#X obj 256 219 t f f;
#X obj 98 20 notein;
#X obj 76 364 gate;
#X connect 0 0 21 0;
#X connect 0 1 21 1;
#X connect 1 0 34 0;
#X connect 1 1 22 0;
#X connect 4 0 5 0;
#X connect 5 0 3 0;
#X connect 6 0 3 0;
#X connect 9 0 39 0;
#X connect 9 1 36 0;
#X connect 10 0 6 0;
#X connect 10 1 11 0;
#X connect 13 0 30 0;
#X connect 13 1 30 1;
#X connect 16 0 17 0;
#X connect 17 0 18 0;
#X connect 20 0 24 0;
#X connect 20 1 24 1;
#X connect 21 0 1 0;
#X connect 22 0 10 0;
#X connect 22 1 35 0;
#X connect 22 2 37 0;
#X connect 24 0 27 0;
#X connect 24 1 27 1;
#X connect 25 0 28 0;
#X connect 26 0 25 1;
#X connect 27 0 25 0;
#X connect 30 0 32 0;
#X connect 30 1 32 1;
#X connect 31 0 33 1;
#X connect 32 0 33 0;
#X connect 33 0 16 0;
#X connect 34 0 9 0;
#X connect 34 1 36 2;
#X connect 35 1 36 1;
#X connect 35 2 2 0;
#X connect 36 0 39 1;
#X connect 37 0 36 3;
#X connect 37 1 23 0;
#X connect 38 0 0 0;
#X connect 38 1 0 1;
#X connect 38 2 21 2;
#X connect 39 0 4 0;
#X restore 151 59 pd block;
#X obj 280 140 / 127;
#X obj 134 496 dac~;
#X obj 388 418 send pdpulp_p1;
#X msg 388 388 aftertouch \$1;
#X obj 211 149 / 127;
#X obj 190 346 mtof;
#X obj 187 320 + 32;
#N canvas 823 23 591 539 bp-smooth~ 0;
#X obj 88 57 inlet~;
#X obj 183 39 inlet;
#X obj 292 55 inlet;
#X obj 159 206 gate2;
#X obj 198 114 0;
#X obj 234 114 + 1;
#X obj 271 114 % 2;
#X obj 198 144 + 1;
#X obj 290 79 t f f;
#X obj 35 275 bp~ \$1 \$2;
#X obj 129 275 bp~ \$1 \$2;
#X obj 181 83 t f b;
#X obj 235 36 loadbang;
#X msg 235 68 0;
#X obj 40 419 *~;
#X obj 127 400 *~;
#X obj 45 454 +~;
#X obj 46 515 outlet~;
#X obj 63 323 sel 1 2;
#X obj 166 321 sel 1 2;
#X obj 57 388 line~;
#X obj 163 379 line~;
#X msg 60 359 1 10;
#X msg 100 360 0 10;
#X msg 166 351 0 10;
#X msg 206 351 1 10;
#X obj 192 170 t f f f;
#X connect 0 0 9 0;
#X connect 0 0 10 0;
#X connect 1 0 11 0;
#X connect 2 0 8 0;
#X connect 3 0 9 1;
#X connect 3 1 10 1;
#X connect 4 0 5 0;
#X connect 4 0 7 0;
#X connect 5 0 6 0;
#X connect 6 0 4 1;
#X connect 7 0 26 0;
#X connect 8 0 9 2;
#X connect 8 1 10 2;
#X connect 9 0 14 0;
#X connect 10 0 15 0;
#X connect 11 0 3 0;
#X connect 11 1 4 0;
#X connect 12 0 13 0;
#X connect 13 0 4 0;
#X connect 14 0 16 0;
#X connect 15 0 16 1;
#X connect 16 0 17 0;
#X connect 18 0 22 0;
#X connect 18 1 23 0;
#X connect 19 0 24 0;
#X connect 19 1 25 0;
#X connect 20 0 14 1;
#X connect 21 0 15 1;
#X connect 22 0 20 0;
#X connect 23 0 20 0;
#X connect 24 0 21 0;
#X connect 25 0 21 0;
#X connect 26 0 3 1;
#X connect 26 1 18 0;
#X connect 26 2 19 0;
#X restore 132 380 pd bp-smooth~ 1000 8;
#X obj 136 428 butterworth-lop~ 6500;
#X obj 281 333 loadbang;
#X msg 290 364 1600;
#X obj 35 321 bp~ 2200 8;
#X obj 137 277 open-pipe 63 4 1 1 6000 600 1 0.8 16000 0;
#X connect 0 0 13 0;
#X connect 0 1 7 0;
#X connect 0 1 13 1;
#X connect 0 2 13 2;
#X connect 0 3 5 0;
#X connect 0 4 1 0;
#X connect 1 0 13 4;
#X connect 4 0 3 0;
#X connect 5 0 13 3;
#X connect 7 0 6 0;
#X connect 8 0 9 0;
#X connect 9 0 2 0;
#X connect 9 0 2 1;
#X connect 10 0 11 0;
#X connect 11 0 8 1;
#X connect 12 0 9 0;
#X connect 13 0 12 0;
