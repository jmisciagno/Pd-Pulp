#N canvas 492 115 752 531 12;
#N canvas 253 120 1071 513 block 0;
#X obj 107 99 swap;
#X obj 66 183 route 0;
#X obj 230 285 outlet;
#X obj 79 457 outlet;
#X obj 76 387 t b;
#X msg 76 412 0;
#X msg 151 270 1;
#X text 76 476 on/off;
#X text 223 308 pitch;
#X obj 77 250 t f f;
#X obj 151 242 t b f;
#X obj 429 354 outlet;
#X text 427 379 velocity;
#X obj 341 151 bendin;
#X text 334 124 octave = 2048 different;
#X text 333 102 neutral = 8192;
#X obj 343 292 - 8192;
#X obj 344 321 / 170.667;
#X obj 342 352 outlet;
#X text 339 380 pitchbend;
#X obj 531 127 touchin;
#X obj 108 141 pack f f f;
#X obj 152 215 unpack f f f;
#X obj 259 254 s \$0-channel;
#X obj 542 174 swap;
#X obj 545 235 route;
#X obj 580 200 r \$0-channel;
#X obj 543 201 pack;
#X obj 536 280 outlet;
#X text 537 310 aftertouch;
#X obj 343 209 swap;
#X obj 385 239 r \$0-channel;
#X obj 344 236 pack;
#X obj 343 265 route;
#X obj 65 216 unpack f f;
#X obj 198 243 t f f f;
#N canvas 0 23 450 300 filter-note-off 0;
#X obj 116 73 inlet;
#X obj 171 74 inlet;
#X obj 228 72 inlet;
#X obj 283 73 inlet;
#X obj 54 143 expr !(($f1 != $f2) | (($f1 == $f2) && ($f3 != $f4)))
;
#X obj 63 171 outlet;
#X text 87 29 blocked if (not the same note) or (the same note and
different channels);
#X connect 0 0 4 0;
#X connect 1 0 4 1;
#X connect 2 0 4 2;
#X connect 3 0 4 3;
#X connect 4 0 5 0;
#X restore 105 331 pd filter-note-off;
#X obj 256 219 t f f;
#X obj 98 20 notein;
#X obj 76 364 gate;
#X connect 0 0 21 0;
#X connect 0 1 21 1;
#X connect 1 0 34 0;
#X connect 1 1 22 0;
#X connect 4 0 5 0;
#X connect 5 0 3 0;
#X connect 6 0 3 0;
#X connect 9 0 39 0;
#X connect 9 1 36 0;
#X connect 10 0 6 0;
#X connect 10 1 11 0;
#X connect 13 0 30 0;
#X connect 13 1 30 1;
#X connect 16 0 17 0;
#X connect 17 0 18 0;
#X connect 20 0 24 0;
#X connect 20 1 24 1;
#X connect 21 0 1 0;
#X connect 22 0 10 0;
#X connect 22 1 35 0;
#X connect 22 2 37 0;
#X connect 24 0 27 0;
#X connect 24 1 27 1;
#X connect 25 0 28 0;
#X connect 26 0 25 1;
#X connect 27 0 25 0;
#X connect 30 0 32 0;
#X connect 30 1 32 1;
#X connect 31 0 33 1;
#X connect 32 0 33 0;
#X connect 33 0 16 0;
#X connect 34 0 9 0;
#X connect 34 1 36 2;
#X connect 35 1 36 1;
#X connect 35 2 2 0;
#X connect 36 0 39 1;
#X connect 37 0 36 3;
#X connect 37 1 23 0;
#X connect 38 0 0 0;
#X connect 38 1 0 1;
#X connect 38 2 21 2;
#X connect 39 0 4 0;
#X restore 151 59 pd block;
#X obj 280 140 / 127;
#X obj 121 478 dac~;
#X obj 388 418 send pdpulp_p1;
#X msg 388 388 aftertouch \$1;
#X obj 211 149 / 127;
#X obj 122 435 butterworth-lop~ 6000;
#X obj 263 410 mtof;
#X msg 263 383 99;
#X obj 263 359 loadbang;
#X obj 138 277 closed-pipe 63 1 10 100 12000 100 1 0.85 12000 0;
#X connect 0 0 10 0;
#X connect 0 1 10 1;
#X connect 0 2 10 2;
#X connect 0 3 5 0;
#X connect 0 4 1 0;
#X connect 1 0 10 4;
#X connect 4 0 3 0;
#X connect 5 0 10 3;
#X connect 6 0 2 1;
#X connect 6 0 2 0;
#X connect 7 0 6 1;
#X connect 8 0 7 0;
#X connect 9 0 8 0;
#X connect 10 0 6 0;
